#!/usr/bin/env sh

source d-var.conf

menuopts=("Record Video + Audio" "Only Video" "Record Small Area in Mouse" "Kill Recording")

taping=$(printf '%s\n' "${menuopts[@]}" | $D_MENU -p 'ï‡ˆ ')

case "$taping" in
  "${menuopts[0]}") wf-recorder -a -f ~/screen-$(date '+%a-%d-%b@%H:%M:%S').mp4 ;;
  "${menuopts[1]}") wf-recorder -f ~/visual-$(date '+%a-%d-%b@%H:%M:%S').mp4 ;;
  "${menuopts[2]}") wf-recorder -g "$(slurp)" -f ~/capture-$(date '+%a-%d-%b@%H:%M:%S').mp4 ;;
  "${menuopts[3]}") pkill -INT wf-recorder ;;
  *) exit 1 ;;
esac
